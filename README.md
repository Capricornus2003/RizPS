# Riz PS
è¿™æ˜¯å¯¹äºRizlineï¼ˆå¾‹åŠ¨è½¨è¿¹ï¼‰æ¸¸æˆæ¸¯æ¾³å°ç‰ˆæœ¬çš„æœåŠ¡ç«¯é‡å®ç°ï¼Œä¸è£…äº†æ‘Šç‰Œäº†ï¼Œä»åå­—å°±èƒ½çœ‹å‡ºæ¥ï¼ŒPS = Private Serverï¼Œè¿™å…¶å®å°±æ˜¯ä¸ªå¾‹åŠ¨è½¨è¿¹çš„ç§æœ
# å¼€å‘è®¡åˆ’
[âˆš] å®Œæ•´æ¨¡æ‹Ÿé›·éœ†SDK

[âˆš] è´¦å·ç™»é™†å¹¶å»é™¤åŒºåŸŸã€æ‰‹æœºå¡é™åˆ¶

[âˆš] æ­£å¸¸å­˜æ¡£/åŠ è½½æ­Œæ›²

[ ] æ”¯æŒä½¿ç”¨resourcesï¼ˆå°†æŠ“åŒ…ä¸‹è½½åˆ°çš„æ­Œæ›²assetbundleæ”¾å…¥resourcesä¾›ç”¨æˆ·ä¸‹è½½ï¼Œresourceså°†ç”±ç”¨æˆ·æä¾›ï¼ŒRiz PSæœ¬ä½“ä¸æä¾›

[ ] å†…è´­å…¨è§£é”ï¼ˆå³ä½¿æœ‰äº†iOSä¹Ÿæ— ç¼˜ï¼‰
# å¦‚ä½•ä½¿ç”¨
## Step 1: å…‹éš†ä»“åº“å¹¶è¡¥å…¨node_modules
Riz PSçš„è¿è¡Œä¾èµ–äºnpmã€nodeã€python3 ä»¥åŠpython3çš„åº“mitmproxyï¼ˆå¯ä»¥ç›´æ¥é€šè¿‡pipå®‰è£…ï¼‰ï¼Œè¯·å…ˆå®‰è£…å¥½è¿™äº›ä¸œè¥¿å¹¶é…ç½®å¥½ç¯å¢ƒå˜é‡ï¼Œå†ç»§ç»­

ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å…‹éš†ä»“åº“ï¼š

`git clone https://github.com/Searchstars/RizPS`

ä¸ä¼šæœ‰äººçš„ç”µè„‘æ²¡Gitå§ï¼ˆå°å£°bb

cdåˆ°å…‹éš†å¾—åˆ°çš„æ–‡ä»¶å¤¹é‡Œï¼Œç„¶åç”¨ä»¥ä¸‹å‘½ä»¤è¡¥å…¨node_modulesï¼š

`npm install`
## Step 2ï¼šåœ¨ä½ çš„è®¾å¤‡ä¸Šä¿¡ä»»mitmproxyè¯ä¹¦
### iOS
é¦–å…ˆå…³é—­æ‰€æœ‰å ç”¨8080ç«¯å£çš„åº”ç”¨ï¼Œç„¶åå®‰è£…http-serverä»¥å…±äº«æ–‡ä»¶ï¼š

`npm install -g http-server`

å®‰è£…å®Œæˆåï¼Œç›´æ¥è¿è¡Œï¼š

`http-server`

éšåï¼Œåœ¨æ‰‹æœºä¸Šçš„Safariæµè§ˆå™¨ä¸­æ‰“å¼€ä½ ç”µè„‘çš„ipåŠ ä¸Šç«¯å£8080ï¼ˆå¦‚192.168.1.7:8080ï¼‰ï¼Œç„¶åä½ å°±èƒ½å¾—åˆ°ä¸€ä¸ªæ–‡ä»¶åˆ—è¡¨ã€‚æ‰¾åˆ°mitmproxy-ca-cert.cerï¼Œç‚¹ä¸€ä¸‹ï¼Œç„¶åç…§ç€ä½ å¹³æ—¶ä¿¡ä»»æè¿°æ–‡ä»¶çš„æ­¥éª¤å»å®‰è£…è¯ä¹¦ï¼Œå®‰è£…å®Œæˆåè¯·ä¸è¦å¿˜è®°åœ¨è®¾ç½® > é€šç”¨ > å…³äºæœ¬æœº > è¯ä¹¦ä¿¡ä»»è®¾ç½®é‡Œå¼€å¯è¿™ä¸ªæ–°å¢çš„è¯ä¹¦ã€‚

ç„¶åï¼Œå¤§åŠŸå‘Šæˆï¼
### Android
ç”±äºæœ¬äººæ²¡æœ‰å®‰å“è®¾å¤‡......ç­‰å¤§ä½¬ä»¬æ¥è¡¥å…¨ç½¢ï¼
## Step 3ï¼šå¯åŠ¨ç§æœ
ä½¿ç”¨Ctrl+Cç»“æŸæ‰åˆšæ‰å¼€çš„http-serverï¼Œç„¶åä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥å¼€å¯Riz PSï¼š

`node --tls-min-v1.2 index.js`

éšåï¼Œä½ ä¾¿èƒ½çœ‹åˆ°æœåŠ¡å™¨è¾“å‡ºçš„æ—¥å¿—äº†ï¼ŒæœåŠ¡å™¨æˆåŠŸå¯åŠ¨äº†ï¼
## Step 4ï¼šä¸­è½¬æµé‡
å†å¼€ä¸€ä¸ªå‘½ä»¤è¡Œçª—å£ï¼ˆåŸæ¥çš„é‚£ä¸ªä¸è¦å…³ï¼ï¼ï¼ï¼‰ç„¶åcdåˆ°åŸä½ã€‚è¾“å…¥ï¼š

`mitmdump -s proxy.py -k`

æ¥å¯åŠ¨mitmproxy

ç„¶åï¼Œç¡®ä¿ä½ æ‰‹æœºè·Ÿç”µè„‘è¿çš„æ˜¯åŒä¸€ä¸ªwifiï¼Œç„¶ååœ¨æ‰‹æœºä¸Šç”¨ä½ ç”µè„‘çš„ip+8080ç«¯å£æ¥è®¾ç½®HTTP/HTTPSä»£ç†ï¼ˆå…·ä½“æ–¹æ³•è‡ªè¡Œç™¾åº¦ï¼‰ï¼Œæœ€åï¼Œå¯åŠ¨Rizlineï¼ŒEnjoy itğŸ˜Šï¼
## ç–‘éš¾è§£ç­”
ä¸è¡Œé˜¿mitmdumpé‚£ä¸ªçª—å£è¾“å‡ºæ­£å¸¸ï¼Œnodeé‚£ä¸ªçª—å£æ²¡ååº”ï¼Œè¿›rizå…ˆæ›´æ–°é”™è¯¯100ï¼Œç„¶åç½‘ç»œé”™è¯¯10

> åœ¨å½“å‰ç‰ˆæœ¬ä¸­ï¼Œå®‰è£…å®Œæˆåè¿›å…¥é¦–æ¬¡rizlineå…ˆä¸è¦åœ¨æ‰‹æœºä¸Šå¼€HTTPä»£ç†ï¼Œè£¸è¿ä¸‹è½½æ›´æ–°åï¼Œç™»é™†è´¦å·æ—¶ä¼šå¼¹å‡ºç½‘ç»œé”™è¯¯ï¼Œè¿™æ˜¯æ­£å¸¸çš„ï¼Œé€€å‡ºæ¸¸æˆç„¶åå†æ‰“å¼€HTTPä»£ç†ï¼Œé‡å¼€rizline

èƒ½ç”¨fiddler classicä»£æ›¿mitmproxyå—ï¼Ÿ

> ä¸è¡Œï¼Œå› ä¸º fiddler.network.https> HTTPS handshake to 192.168.1.247 (for #96) failed. System.Security.Authentication.AuthenticationException è°ƒç”¨ SSPI å¤±è´¥ï¼Œè¯·å‚è§å†…éƒ¨å¼‚å¸¸ã€‚ < æ¥æ”¶åˆ°çš„æ¶ˆæ¯å¼‚å¸¸ï¼Œæˆ–æ ¼å¼ä¸æ­£ç¡®ã€‚Win32 (SChannel) Native Error Code: 0x8009032615
## ç‰¹åˆ«æ„Ÿè°¢
ç‰¹åˆ«æ„Ÿè°¢å¼€æºé¡¹ç›®Grasscutters/Grasscutteræä¾›çš„proxy.pyåŠproxy_config.pyï¼Œè®©æˆ‘ä¸ç”¨å†å¤§è´¹å‘¨ç« å†™ä¸€ä¸ª
